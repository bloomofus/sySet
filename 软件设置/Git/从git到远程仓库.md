# gitçš„å®‰è£…ä½¿ç”¨

## gitçš„å®‰è£…

é…ç½®ç”¨æˆ·åå’Œé‚®ç®±ã€‚

```shell
 git config --global user.email "you@example.com"
 git config --global user.name "Your Name"
```

æ·»åŠ ä¸­æ–‡æ”¯æŒã€‚

- git bash ç»ˆç«¯è¾“å…¥å‘½ä»¤ï¼š`git config --global core.quotepath false`
- åœ¨git bashçš„ç•Œé¢ä¸­`å³å‡»`ç©ºç™½å¤„ï¼Œå¼¹å‡ºèœå•ï¼Œé€‰æ‹©`Options->Text->Localeæ”¹ä¸ºzh_CNï¼ŒCharacter setæ”¹ä¸ºUTF-8`

## sshé…ç½®

### æŸ¥çœ‹å¯†é’¥

winæŸ¥çœ‹`C:\Users\yourname\`è¯¥ç›®å½•ä¸‹é¢æœ‰æ²¡æœ‰`.ssh`æ–‡ä»¶å¤¹ã€‚æŸ¥çœ‹æ˜¯å¦å­˜åœ¨ä»¥ä¸‹æ–‡ä»¶ï¼š`id_rsa`ï¼ˆç§é’¥ï¼‰ã€`id_rsa.pub`ï¼ˆå…¬é’¥ï¼‰ã€‚å¦‚æœæœ‰ï¼Œè¿›è¡Œæ­¥3ï¼Œå¦‚æœæ²¡æœ‰è¿›è¡Œæ­¥éª¤2ã€‚

### ç”Ÿæˆå¯†é’¥

åœ¨`git bash`ä¸­æ‰§è¡Œ

```shell
ssh-keygen -t ed25519 -C "your_email@example.com"
# å¦‚æœä¸Šé¢ä¸è¡Œï¼Œæ‰§è¡Œä¸‹é¢çš„
ssh-keygen -t rsa -b 4096 -C "your_email@example.com"
```

ä¸€è·¯å›è½¦ã€‚

ç”ŸæˆæˆåŠŸåï¼Œä½ ä¼šçœ‹è§`Your public key is: /c/Users/YourName/.ssh/id_ed25519.pub`ã€‚

### å¤åˆ¶ç²˜è´´å¯†é’¥

å‰é¢å¾—åˆ°äº†`.pub`è¿™ä¸ªæ–‡ä»¶ï¼Œå¤åˆ¶å…¶å†…å®¹ï¼Œç²˜è´´åˆ°githubçš„sshé…ç½®é‚£é‡Œï¼Œgithub->ä¸ªäººè®¾ç½®->sshé…ç½®ã€‚

## åˆ›å»ºè¿œç¨‹ä»“åº“

1. é¦–å…ˆåœ¨githubåˆ›å»ºä¸€ä¸ªä»“åº“ï¼ŒâŒ **ä¸è¦å‹¾é€‰** â€œAdd a README fileâ€ã€â€œAdd .gitignoreâ€ã€â€œChoose a licenseâ€ã€‚

2. åœ¨æœ¬åœ°åˆ›å»ºé¡¹ç›®æ–‡ä»¶å¤¹ï¼Œä½¿ç”¨`git init`åˆå§‹åŒ–é¡¹ç›®

3. åŠ å…¥ä¸€äº›æ–‡ä»¶

4. å°†æ–‡ä»¶åŠ å…¥æš‚å­˜åŒº

   ```shell
   git add main.c
   git add src/
   git add *.h
   git add .	# å¤§éƒ¨åˆ†æƒ…å†µ
   ```

5. æäº¤æ–‡ä»¶ä¿å­˜

   ```shell
   git commit -m "æè¿°ä½ çš„æ›´æ”¹ï¼Œä¾‹å¦‚ï¼šæ·»åŠ ä¼ æ„Ÿå™¨åˆå§‹åŒ–ä»£ç "
   ```

6. è¿æ¥è¿œç¨‹ä»“åº“

   æœ€å¥½é€‰ç”¨sshè¿æ¥è¿œç¨‹ä»“åº“ã€‚

   ```shell
   git remote add origin git@github.com:yourname/reponame.git
   ```

7. pushåˆ°è¿œç¨‹

   æ³¨æ„éœ€è¦æå‰é…ç½®å¥½gitçš„ç”¨æˆ·åå’Œé‚®ç®±ã€‚

   æ³¨æ„éœ€è¦æå‰é…ç½®å¥½sshã€‚

   æ³¨æ„é¿å…å½“å‰åˆ†æ”¯å’Œè¦Pushçš„è¿œç¨‹åˆ†æ”¯åä¸åŒã€‚

   ```shell
   # 1. é‡å‘½åå½“å‰åˆ†æ”¯ master ä¸º mainï¼ˆå¦‚æœéœ€è¦ï¼‰
   #git branch -m master main
   # 2. æ¨é€åˆ°è¿œç¨‹ main
   git push -u origin main	# ç¬¬äºŒæ¬¡åŠä»¥ååªéœ€è¦git push
   ```

## gitçš„å¸¸ç”¨å‘½ä»¤

   å½“ç„¶å¯ä»¥ï¼ä¸‹é¢æ˜¯ä¸€ä»½ **Git å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥è¡¨**ï¼ŒæŒ‰ä½¿ç”¨åœºæ™¯åˆ†ç±»ï¼Œé€‚åˆæ—¥å¸¸å¼€å‘ï¼ˆåŒ…æ‹¬ STM32 é¡¹ç›®ç®¡ç†ï¼‰ï¼Œç®€æ´æ¸…æ™°ï¼Œå»ºè®®æ”¶è— âœ…

---

### é…ç½®ç±»

   | å‘½ä»¤                                               | è¯´æ˜                         |
   | -------------------------------------------------- | ---------------------------- |
   | `git config --global user.name "Your Name"`        | è®¾ç½®å…¨å±€ç”¨æˆ·å               |
   | `git config --global user.email "you@example.com"` | è®¾ç½®å…¨å±€é‚®ç®±                 |
   | `git config --global core.editor "code --wait"`    | è®¾ç½®é»˜è®¤ç¼–è¾‘å™¨ï¼ˆå¦‚ VS Codeï¼‰ |
   | `git config --global init.defaultBranch main`      | è®¾ç½®é»˜è®¤åˆ†æ”¯åä¸º `main`      |
   | `git config --list`                                | æŸ¥çœ‹æ‰€æœ‰é…ç½®                 |

   > ğŸ’¡ é¦–æ¬¡ä½¿ç”¨ Git å¿…é¡»é…ç½® `user.name` å’Œ `user.email`

---

### ä»“åº“åˆå§‹åŒ– & å…‹éš†

   | å‘½ä»¤                                         | è¯´æ˜                        |
   | -------------------------------------------- | --------------------------- |
   | `git init`                                   | åˆå§‹åŒ–å½“å‰ç›®å½•ä¸º Git ä»“åº“   |
   | `git clone https://github.com/user/repo.git` | å…‹éš† HTTPS ä»“åº“             |
   | `git clone git@github.com:user/repo.git`     | å…‹éš† SSH ä»“åº“ï¼ˆéœ€é…ç½® SSHï¼‰ |

---

### æŸ¥çœ‹çŠ¶æ€ & å·®å¼‚

   | å‘½ä»¤                              | è¯´æ˜                                    |
   | --------------------------------- | --------------------------------------- |
   | `git status`                      | æŸ¥çœ‹å·¥ä½œåŒºçŠ¶æ€ï¼ˆå“ªäº›æ–‡ä»¶è¢«ä¿®æ”¹/æœªè·Ÿè¸ªï¼‰ |
   | `git diff`                        | æŸ¥çœ‹**å·¥ä½œåŒº vs æš‚å­˜åŒº**çš„å·®å¼‚          |
   | `git diff --cached`               | æŸ¥çœ‹**æš‚å­˜åŒº vs æœ€åä¸€æ¬¡æäº¤**çš„å·®å¼‚    |
   | `git log`                         | æŸ¥çœ‹æäº¤å†å²ï¼ˆç®€æ´ç‰ˆï¼‰                  |
   | `git log --oneline`               | å•è¡Œæ˜¾ç¤ºæäº¤å†å²                        |
   | `git log --graph --all --oneline` | å›¾å½¢åŒ–æŸ¥çœ‹åˆ†æ”¯å†å²                      |

---

### æš‚å­˜ & æäº¤ï¼ˆæ ¸å¿ƒï¼ï¼‰

   | å‘½ä»¤                        | è¯´æ˜                                                       |
   | --------------------------- | ---------------------------------------------------------- |
   | `git add <file>`            | å°†æŒ‡å®šæ–‡ä»¶åŠ å…¥æš‚å­˜åŒº                                       |
   | `git add .`                 | æ·»åŠ å½“å‰ç›®å½•æ‰€æœ‰æ›´æ”¹ï¼ˆåŒ…æ‹¬æ–°æ–‡ä»¶ï¼‰                         |
   | `git add -u`                | æ·»åŠ æ‰€æœ‰**å·²è·Ÿè¸ªæ–‡ä»¶**çš„ä¿®æ”¹å’Œåˆ é™¤ï¼ˆä¸åŒ…æ‹¬æ–°æ–‡ä»¶ï¼‰         |
   | `git commit -m "æäº¤ä¿¡æ¯"`  | æäº¤æš‚å­˜åŒºå†…å®¹åˆ°æœ¬åœ°ä»“åº“                                   |
   | `git commit -am "æäº¤ä¿¡æ¯"` | **è·³è¿‡ add**ï¼Œç›´æ¥æäº¤æ‰€æœ‰å·²è·Ÿè¸ªæ–‡ä»¶çš„ä¿®æ”¹ï¼ˆä¸åŒ…æ‹¬æ–°æ–‡ä»¶ï¼‰ |

   > âš ï¸ `git commit -a` **ä¸ä¼šæ·»åŠ æ–°æ–‡ä»¶ï¼ˆuntracked filesï¼‰**ï¼

---

### è¿œç¨‹ä»“åº“æ“ä½œ

   | å‘½ä»¤                                  | è¯´æ˜                                      |
   | ------------------------------------- | ----------------------------------------- |
   | `git remote -v`                       | æŸ¥çœ‹è¿œç¨‹ä»“åº“åœ°å€                          |
   | `git remote add origin <url>`         | æ·»åŠ è¿œç¨‹ä»“åº“ï¼ˆé¦–æ¬¡ï¼‰                      |
   | `git remote set-url origin <new-url>` | ä¿®æ”¹è¿œç¨‹ä»“åº“åœ°å€ï¼ˆå¦‚ HTTPS â†’ SSHï¼‰        |
   | `git push -u origin main`             | é¦–æ¬¡æ¨é€å¹¶è®¾ç½®ä¸Šæ¸¸åˆ†æ”¯                    |
   | `git push`                            | æ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ï¼ˆåç»­ä½¿ç”¨ï¼‰            |
   | `git pull`                            | æ‹‰å–è¿œç¨‹æ›´æ–°å¹¶åˆå¹¶ï¼ˆ= `fetch` + `merge`ï¼‰ |
   | `git fetch`                           | ä»…ä¸‹è½½è¿œç¨‹æ›´æ–°ï¼Œä¸è‡ªåŠ¨åˆå¹¶                |

   > ğŸ”‘ æ¨èï¼šé¦–æ¬¡æ¨é€ç”¨ `git push -u origin main`ï¼Œä¹‹ååªéœ€ `git push`

---

### åˆ†æ”¯ç®¡ç†

   | å‘½ä»¤                    | è¯´æ˜                             |
   | ----------------------- | -------------------------------- |
   | `git branch`            | åˆ—å‡ºæœ¬åœ°åˆ†æ”¯ï¼ˆ`*` è¡¨ç¤ºå½“å‰åˆ†æ”¯ï¼‰ |
   | `git branch -m old new` | é‡å‘½åå½“å‰åˆ†æ”¯                   |
   | `git checkout -b dev`   | åˆ›å»ºå¹¶åˆ‡æ¢åˆ° `dev` åˆ†æ”¯          |
   | `git switch -c dev`     | ï¼ˆGit 2.23+ï¼‰åŒä¸Šï¼Œæ›´è¯­ä¹‰åŒ–      |
   | `git checkout main`     | åˆ‡æ¢åˆ° `main` åˆ†æ”¯               |
   | `git merge dev`         | å°† `dev` åˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯      |
   | `git branch -d dev`     | åˆ é™¤å·²åˆå¹¶çš„ `dev` åˆ†æ”¯          |
   | `git branch -D dev`     | å¼ºåˆ¶åˆ é™¤ `dev` åˆ†æ”¯              |

---

### æ’¤é”€ & å›é€€

   | å‘½ä»¤                          | è¯´æ˜                                                       |
   | ----------------------------- | ---------------------------------------------------------- |
   | `git restore <file>`          | ä¸¢å¼ƒå·¥ä½œåŒºä¿®æ”¹ï¼ˆæ¢å¤åˆ°æš‚å­˜åŒºçŠ¶æ€ï¼‰                         |
   | `git restore --staged <file>` | ä»æš‚å­˜åŒºæ’¤å›ï¼ˆå–æ¶ˆ `add`ï¼‰                                 |
   | `git reset --hard HEAD~1`     | **å±é™©ï¼** å›é€€åˆ°ä¸Šä¸€æ¬¡æäº¤ï¼ˆä¸¢å¼ƒæœ€è¿‘ä¸€æ¬¡æäº¤åŠæ‰€æœ‰æ›´æ”¹ï¼‰  |
   | `git reset --soft HEAD~1`     | å›é€€æäº¤ï¼Œä½†ä¿ç•™æ›´æ”¹åœ¨æš‚å­˜åŒº                               |
   | `git revert <commit-id>`      | æ–°å»ºä¸€ä¸ªâ€œåå‘æäº¤â€æ¥æ’¤é”€æŸæ¬¡æ›´æ”¹ï¼ˆå®‰å…¨ï¼Œé€‚åˆå·²æ¨é€çš„æäº¤ï¼‰ |

   > âš ï¸ `reset --hard` ä¼š**æ°¸ä¹…åˆ é™¤ä»£ç **ï¼Œæ…ç”¨ï¼

---

### æ ‡ç­¾ï¼ˆTagï¼‰

   | å‘½ä»¤                               | è¯´æ˜             |
   | ---------------------------------- | ---------------- |
   | `git tag v1.0`                     | åˆ›å»ºè½»é‡æ ‡ç­¾     |
   | `git tag -a v1.0 -m "Release 1.0"` | åˆ›å»ºå¸¦æ³¨é‡Šçš„æ ‡ç­¾ |
   | `git push origin v1.0`             | æ¨é€å•ä¸ªæ ‡ç­¾     |
   | `git push origin --tags`           | æ¨é€æ‰€æœ‰æ ‡ç­¾     |

---

### å¿½ç•¥æ–‡ä»¶ï¼ˆ.gitignoreï¼‰

   åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.gitignore` æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š

   ```gitignore
   # ç¼–è¯‘äº§ç‰©
   *.bin
   *.hex
   *.elf
   Debug/
   Release/
   
   # IDE
   .project
   .cproject
   .settings/
   .metadata/
   
   # OS
   .DS_Store
   Thumbs.db
   ```

   > âœ… `.gitignore` åªå¯¹**æœªè·Ÿè¸ªæ–‡ä»¶**ç”Ÿæ•ˆã€‚å·²è·Ÿè¸ªçš„æ–‡ä»¶éœ€å…ˆ `git rm -r --cached .` å†æäº¤ã€‚

---

### å°æŠ€å·§

   - **æŸ¥çœ‹å¸®åŠ©**ï¼š`git help <command>`ï¼ˆå¦‚ `git help commit`ï¼‰
   - **è‡ªåŠ¨è¡¥å…¨**ï¼šGit Bash æ”¯æŒå‘½ä»¤/åˆ†æ”¯åè‡ªåŠ¨è¡¥å…¨ï¼ˆæŒ‰ Tabï¼‰
   - **åˆ«åè®¾ç½®**ï¼ˆå¯é€‰ï¼‰ï¼š
     ```bash
     git config --global alias.st status
     git config --global alias.co checkout
     git config --global alias.br branch
     git config --global alias.ci commit
     git config --global alias.unstage 'restore --staged'
     ```
